<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  
  <title>Eligibility API - Set Password and Token</title>

  <link rel="stylesheet" type="text/css" href="css/style.css">
  
  </head>

<body>
	<header class="p-2 flex items-center font-sans ">
	  <h1 class="text-color-blue-dark">
	    NYC Benefits Eligibility API
	  </h1>
    <a class="version" href="https://github.com/CityOfNewYork/eligibilityapi">1.0.0</a>
  </header>
  <div class="divider"></div>

	<section class="usa-grid screen-desktop:layout--sidebar-small-gutter">
	  <aside>
	    <nav class="c-side-nav">
  <ul>
    <li>
      <a class="active" href="/">Overview</a>
    </li>
    <li>
      <a href="terms-of-service">Terms of Service</a>
    </li>
    <li>
      <a href="request-an-account">Request an Account</a>
    </li>
    <li>
      <a href="request-account-form">Request Account Form</a>
    </li>
    <li>
      <a href="set-password-and-token-based-authentication">Set Password and Token Based Authentication</a>
    </li>
    <li>
      <a href="eligibility-guidelines">Eligibility Guidelines</a>
    </li>
    <li>
      <a href="making-a-request">Making a Request</a>
    </li>
    <li>
      <a href="endpoints">Endpoints</a>
    </li>
    <li>
      <a href="sample-code-and-sdks">Sample Data, Code, and SDKs</a>
    </li>
    <li>
      <a href="feedback-and-support">Feedback and Support</a>
    </li>
  </ul>
</nav>
	  </aside>

    <div class="font-sans">
    	<div>
		<h1 id="set-password-and-token-based-authentication">Set Password and Token Based Authentication</h1>
<p>Once you have <a href="/request-account-form">requested an account</a> and received your username and temporary password, you will be able to set your password for making additional requests. This requires the use of the <code>authToken</code> endpoint which accepts a JSON payload with your username, temporary password, and new password. The new password field is not required on subsequent <code>authToken</code> requests but if populated your password will update. Below is a full example of a curl request of this method. The values within double brackets (<code>{{ value }}</code>) are variables where you would provide your information:</p>
<pre><code>curl -X POST \
  &#39;https://{{ domain }}/access-nyc-rest/authToken&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;cache-control: no-cache&#39; \
  -d &#39;{
    &quot;username&quot; : &quot;{{ username }}&quot;,
    &quot;password&quot;: &quot;{{ temporary password }}&quot;,
    &quot;newPassword&quot;: &quot;{{ new password }}&quot;
  }&#39;</code></pre><h2 id="response">Response</h2>
<p>A successful request will return a <code>token</code> in the response which means your password has been set. </p>
<pre><code>{
  &quot;type&quot;: &quot;SUCCESS&quot;,
  &quot;token&quot;: &quot;{{ your new token will here }}&quot;
}</code></pre><p>Be sure to keep track of your password as it can only be done once. If, for any reason, you need to reset your password or update your account information please contact us through Support.</p>
<h2 id="tokens">Tokens</h2>
<p>Once you have a token, you can use it along with your username to make requests to other endpoints. Tokens are set to expire every hour (or <code>3600</code> seconds) so you will need to keep track of the expiration to regenerate your token. Retrieving a new token can be done using the same <code>authToken</code> endpoint. All thatâ€™s needed is your username and password.</p>
<pre><code>curl -X POST \
  &#39;https://{{ domain }}/access-nyc-rest/authToken&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;cache-control: no-cache&#39; \
  -d &#39;{
    &quot;username&quot; : &quot;{{ username }}&quot;,
    &quot;password&quot;: &quot;{{ temporary password }}&quot;
  }&#39;</code></pre><h2 id="forgot-password">Forgot Password</h2>
<p>If you forget your password, you can reset it with the <code>/forgotPassword</code> and <code>/confirmPassword</code> endpoints. </p>
<pre><code>curl -X POST \
  &#39;https://{{ domain }}/access-nyc-rest/authToken&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;cache-control: no-cache&#39; \
  -d &#39;{
    &quot;username&quot; : &quot;{{ username }}&quot;,
    &quot;password&quot;: &quot;{{ temporary password }}&quot;
  }&#39;</code></pre><h2 id="summary">Summary</h2>
<p>Setting your new password can only be done once.</p>
<ul>
<li>Contact us through <a href="/feedback-and-support">Support</a> if you need to update your account information.</li>
<li>The <code>authToken</code> endpoint is used to set your new password using your username and temporary password.</li>
<li>The <code>authToken</code> endpoint responds with a token that expires after 1 hour (<code>3600</code> seconds).</li>
<li>The <code>authToken</code> endpoint is also used to retrieve new tokens.</li>
</ul>
<h2 id="next">Next</h2>
<p><a href="/making-a-request">Making a Request</a></p>
<br>
<br>
	</div>
    </div>
	</section>

  <footer class="o-footer bg-color-blue-light">
    
    <div class="o-footer__copyright text-color-blue-dark">
      <svg class="icon icon-logo-nyc">
        <use xlink:href="#icon-logo-nyc"></use>
      </svg>
      <p>City of New York, 2019 All Rights Reserved.
      <br />NYC is a trademark and service mark of the City of New York.</p>
    </div>
  </footer> 

	<script src="js/source.js"></script>
  <script type="text/javascript">
    var access = new AccessNyc();
    access.icons('/svg/icons.svg');
  </script>

</body>
</html>