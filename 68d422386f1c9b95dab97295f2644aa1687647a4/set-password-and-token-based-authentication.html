<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="shortcut icon" href="/images/favicon/favicon.ico">

  <title>Set Password and Token | NYC Benefits Eligibility API</title>

  <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135011272-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-135011272-1');
  </script>
</head>

<body>
  <header class="o-header screen-tablet:layout--sidebar">
  <div class="o-header__banner-main color-primary-button">
    <button data-js="toggle" aria-pressed="false" aria-expanded="false" aria-controls="navigation" class="o-header__main-toggle cursor-pointer underline font-bold">Menu</button>

    <h1 class="o-header__main-title">
      <span class="hidden">The Mayor's Office for Economic Opportunity</span>

      <svg aria-hidden="true"
        class="o-header__logo-main icon-logo-nyco">
        <use xlink:href="#icon-logo-nyco"></use>
      </svg>

      <svg aria-hidden="true" class="o-header__logo-secondary icon-logo-nyco">
        <use xlink:href="#icon-logo-nyco"></use>
      </svg>
    </h1>

    <div aria-hidden="true" class="o-header__main-version">v0.0.1</div>
  </div>

  <div class="o-header__banner-secondary color-dark-background">
    <h1 class="o-header__secondary-title text-jumbo">NYC Benefits Eligibility API</h1>
    <a href="#main-content">Skip to main content</a>
  </div>

  <div class="o-header__secondary-version color-dark-background">
    <div>
      <a class="btn flex items-center" href="https://github.com/CityOfNewYork/eligibilityapi-docs/tree/v0.0.1">
        <svg aria-hidden="true" class="icon-github-mark icon-small mr-1">
          <use xlink:href="#icon-github-mark"></use>
        </svg>
        0.0.1
      </a>
    </div>
  </div>
</header>
  <main class="screen-tablet:layout--sidebar screen-tablet:flex items-stretch m-0 p-0 min-h-screen">
    <aside class="o-navigation color-mid-background">
  <div class="o-navigation__wrap color-mid-background hidden screen-tablet:flex">
    <div class="o-navigation__banner color-dark-background">
      <h1 class="o-navigation__banner-title">NYC Benefits Eligibility API</h1>
    </div>

    <div class="o-navigation__nav">
      <div class='o-navigation__stick' style='height: 642px'>
        <nav>
  <a class="o-navigation__link" href="overview">Overview</a>

  <span class="o-navigation__link-header text-primary-blue-70t border-primary-blue-30t">Guide</span>
  <a class="o-navigation__link" href="getting-started">Getting Started</a>
  <a class="o-navigation__link" href="http://eepurl.com/gfLTuH" target="_blank">Request an Account</a>
  <a class="o-navigation__link" href="set-password-and-token-based-authentication">Set Password and Token Based Authentication</a>
  <a class="o-navigation__link" href="making-a-request">Making a Request</a>
  <a class="o-navigation__link" href="endpoints">Endpoints</a>
  <a class="o-navigation__link" href="sample-data-and-code">Sample Data and Code</a>

  <span class="o-navigation__link-header text-primary-blue-70t border-primary-blue-30t">Reference</span>
  <a class="o-navigation__link" href="eligibility-guidelines">Eligibility Guidelines</a>
  <a class="o-navigation__link" href="feedback-and-support">Feedback and Support</a>
  <a class="o-navigation__link" href="terms-of-service">Terms of Service</a>
</nav>      </div>
    </div>
  </div>

  <div id="navigation" class="o-navigation__wrap color-mid-background hidden hidden:overflowFadeInUp animated screen-tablet:hidden">
    <div div class='o-navigation__banner color-dark-background'>
      <h1 class='o-navigation__banner-title'>NYC Benefits Eligibility API</h1>
    </div>

    <div class='o-navigation__nav animated'>
      <nav>
  <a class="o-navigation__link" href="overview">Overview</a>

  <span class="o-navigation__link-header text-primary-blue-70t border-primary-blue-30t">Guide</span>
  <a class="o-navigation__link" href="getting-started">Getting Started</a>
  <a class="o-navigation__link" href="http://eepurl.com/gfLTuH" target="_blank">Request an Account</a>
  <a class="o-navigation__link" href="set-password-and-token-based-authentication">Set Password and Token Based Authentication</a>
  <a class="o-navigation__link" href="making-a-request">Making a Request</a>
  <a class="o-navigation__link" href="endpoints">Endpoints</a>
  <a class="o-navigation__link" href="sample-data-and-code">Sample Data and Code</a>

  <span class="o-navigation__link-header text-primary-blue-70t border-primary-blue-30t">Reference</span>
  <a class="o-navigation__link" href="eligibility-guidelines">Eligibility Guidelines</a>
  <a class="o-navigation__link" href="feedback-and-support">Feedback and Support</a>
  <a class="o-navigation__link" href="terms-of-service">Terms of Service</a>
</nav>    </div>
  </div>
</aside>

    <article id="main-content" class="color-light-background py-2 px-4 screen-desktop:px-6">
            <section class="layout--content py-4">
        <div class="screen-desktop:pr-4 screen-desktop:pr-6">
          <h1 class="mt-0 p-0">Set Password and Token</h1>          	<div class="o-content">
		<p>Once you have <a href="http://eepurl.com/gfLTuH" target="_blank">requested an account</a> and received your username and temporary password, you will be able to set your password for making additional requests. This requires the use of the <code>authToken</code> endpoint which accepts a JSON payload with your username, temporary password, and new password. The new password field is not required on subsequent <code>authToken</code> requests but if populated your password will update. Below is a full example of a curl request of this method. The values within double brackets (<code>{{ value }}</code>) are variables where you would provide your information:</p>
<div class="code-block"><pre>
curl -X POST \
  'https://eligibilityapi.cityofnewyork.us/authToken' \
  -H 'Content-Type: application/json' \
  -H 'cache-control: no-cache' \
  -d '{
    "username": "{{ username }}",
    "password": "{{ temporary password }}",
    "newPassword": "{{ new password }}"
  }'</pre></div>

<h2 id="response">Response</h2>
<p>A successful request will return a <code>token</code> in the response which means your password has been set.</p>
<div class="code-block"><pre>
{
  "type": "SUCCESS",
  "token": "{{ your new token will here }}"
}</pre></div>

<h2 id="tokens">Tokens</h2>
<p>Once you have a token, you can use it along with your username to make requests to other endpoints. Tokens are set to expire every hour (or <code>3600</code> seconds) so you will need to keep track of the expiration to regenerate your token. Retrieving a new token can be done using the same <code>authToken</code> endpoint. All that’s needed is your username and password.</p>
<div class="code-block"><pre>curl -X POST \
  'https://eligibilityapi.cityofnewyork.us/authToken' \
  -H 'Content-Type: application/json' \
  -H 'cache-control: no-cache' \
  -d '{
    "username": "{{ username }}",
    "password": "{{ temporary password }}"
  }'</pre></div>

<h2 id="forgot-password">Forgot Password</h2>
<p>If you forget your password, you can reset it with the <code>/forgotPassword</code> and <code>/confirmPassword</code> endpoints. Curl <code>/forgotPassword</code> to receive an email with a verification code.</p>
<div class="code-block"><pre>curl -X POST \
  'https://eligibilityapi.cityofnewyork.us/forgotPassword' \
  -H 'Content-Type: application/json' \
  -H 'cache-control: no-cache' \
  -d '{
    "username": "{{ username }}"
  }'</pre></div>

<p>Then curl <code>/confirmPassword</code> with your username, verification code, and new password. You will receive the email at the address you provided to us when setting up your account.</p>
<div class="code-block"><pre>curl -X POST \
  'https://eligibilityapi.cityofnewyork.us/confirmPassword' \
  -H 'Content-Type: application/json' \
  -H 'cache-control: no-cache' \
  -d '{
    "username": "{{ username }}",
    "newPassword": "{{ new_password }}",
    "verificationCode": "{{ verification_code }}"
  }'</pre></div>

<h2 id="summary">Summary</h2>
<ul>
<li><p>Contact us through <a href="mailto:eligibilityapi@nycopportunity.nyc.gov">Support</a> if you need to update your account information.</p>
</li>
<li><p>The <code>authToken</code> endpoint is used to set your new password using your username and temporary password.</p>
</li>
<li><p>The <code>authToken</code> endpoint responds with a token that expires after 1 hour (<code>3600</code> seconds).</p>
</li>
<li><p>The <code>authToken</code> endpoint is also used to retrieve new tokens.</p>
</li>
</ul>
<h2 id="next">Next</h2>
<p><a href="making-a-request" title="Making a Request" class="btn color-secondary-button">Making a Request&nbsp;&nbsp;❯</a></p>
	</div>
        </div>
      </section>
          </article>
  </main>

  <footer class="o-footer color-dark-background screen-tablet:layout--three-columns-gutter">
  <nav>
    <a class="o-footer__nav-link" href="overview">Overview</a>
    <a class="o-footer__nav-link" href="getting-started">Getting Started</a>
    <a class="o-footer__nav-link" href="feedback-and-support">Feedback and Support</a>
    <a class="o-footer__nav-link" href="terms-of-service">Terms of Service</a>
  </nav>

  <div class="o-footer__info">
    <a href="http://nyc.gov/opportunity" title="The Mayor's Office for Economic Opportunity">
      <svg aria-hidden="true" class="icon-logo-secondary o-footer__logo text-base-white">
        <use xlink:href="#icon-logo-secondary"></use>
      </svg>
    </a>

    <p>NYC Opportunity is the <a href="http://nyc.gov/opportunity">New York City Mayor&#39;s Office for Economic Opportunity</a>. We are committed to sharing open source software that we use in our products. Feel free to ask questions and share feedback. Follow @nycopportunity on <a href="https://twitter.com/nycopportunity">Twitter</a>, <a href="https://www.facebook.com/NYCOpportunity/">Facebook</a>, <a href="https://medium.com/@nycopportunity">Medium</a>, and <a href="https://github.com/orgs/CityOfNewYork/teams/nycopportunity">Github</a>.</p>

    <small>© City of New York, 2019 All Rights Reserved.<br>NYC is a trademark and service mark of the City of New York.</small>
  </div>
</footer>
  <script crossorigin='anonymous' src='https://polyfill.io/v3/polyfill.min.js?flags=gated&features=Array.prototype.forEach,Element.prototype.matches,Element.prototype.remove,fetch,Promise'></script>
  <script src="js/source.js"></script>
  
</body>
</html>