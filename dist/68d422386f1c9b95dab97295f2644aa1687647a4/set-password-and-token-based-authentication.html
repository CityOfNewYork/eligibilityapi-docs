<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link rel="icon" type="image/x-icon" href="images/favicon.ico">

  <title>Eligibility API - Set Password and Token</title>

  
  <link href='https://www1.nyc.gov/assets/home/css/css-min/global.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/css-min/module.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/print.css' media='print' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/modules/status-updates-short.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/modules/status-updates-mini.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/includes/header-agencies.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/modules/news-panel.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/modules/agencies-about-links.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/modules/programs-and-initiatives.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/modules/homepage-hero.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/home/css/pages/agencies/index.css' media='screen' rel='stylesheet' type='text/css'>
  <link href='https://www1.nyc.gov/assets/opportunity/css/agency-styles.css' media='screen' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" type="text/css" href="css/style.css">

</head>

<body>
  <header class="layout--sidebar screen-tablet:flex">
    <div class="flex items-center justify-center bg-primary-blue text-base-white screen-tablet:w-64 p-3 screen-tablet:p-4">
      <h1 class="m-0 p-0">
        <span class="hidden">
          The Mayor's Office<br>for Economic Opportunity
        </span>
        <svg class="icon-logo text-base-white" aria-hidden='true'>
          <use xlink:href="#icon-logo">
        </svg>
      </h1>
    </div>
    <div class="flex-1 flex flex-col content-center justify-center bg-primary-navy text-base-white links-invert p-3 screen-tablet:p-4"> 
      <h1 class="jumbo mt--2 mb-0">Eligibility API</h1>
    </div>

    <div class="flex flex-col content-center justify-center color-dark-background px-3 pb-3 screen-tablet:p-4">
      <a href="https://github.com/CityOfNewYork/eligibilityapi">1.0.0</a>
    </div>
  </header>

  <main class="layout--sidebar screen-tablet:flex items-stretch m-0 p-0 min-h-screen">
    <aside class="color-mid-background py-2 px-3">
      <nav class="screen-tablet:pb-2">
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="/">Overview</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="terms-of-service">Terms of Service</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="request-an-account">Request an Account</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="request-account-form">Request Account Form</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="set-password-and-token-based-authentication">Set Password and Token Based Authentication</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="eligibility-guidelines">Eligibility Guidelines</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="making-a-request">Making a Request</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="endpoints">Endpoints</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="sample-code-and-sdks">Sample Data, Code, and SDKs</a>
  <a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="feedback-and-support">Feedback and Support</a>

  
    </aside>

    <article class="color-light-background py-2 px-4 screen-desktop:px-6">
      	<div>
		<h1 id="set-password-and-token-based-authentication">Set Password and Token Based Authentication</h1>
<p>Once you have <a href="/request-account-form">requested an account</a> and received your username and temporary password, you will be able to set your password for making additional requests. This requires the use of the <code>authToken</code> endpoint which accepts a JSON payload with your username, temporary password, and new password. The new password field is not required on subsequent <code>authToken</code> requests but if populated your password will update. Below is a full example of a curl request of this method. The values within double brackets (<code>{{ value }}</code>) are variables where you would provide your information:</p>
<pre><code>curl -X POST \
  &#39;https://{{ domain }}/access-nyc-rest/authToken&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;cache-control: no-cache&#39; \
  -d &#39;{
    &quot;username&quot; : &quot;{{ username }}&quot;,
    &quot;password&quot;: &quot;{{ temporary password }}&quot;,
    &quot;newPassword&quot;: &quot;{{ new password }}&quot;
  }&#39;</code></pre><h2 id="response">Response</h2>
<p>A successful request will return a <code>token</code> in the response which means your password has been set. </p>
<pre><code>{
  &quot;type&quot;: &quot;SUCCESS&quot;,
  &quot;token&quot;: &quot;{{ your new token will here }}&quot;
}</code></pre><p>Be sure to keep track of your password as it can only be done once. If, for any reason, you need to reset your password or update your account information please contact us through Support.</p>
<h2 id="tokens">Tokens</h2>
<p>Once you have a token, you can use it along with your username to make requests to other endpoints. Tokens are set to expire every hour (or <code>3600</code> seconds) so you will need to keep track of the expiration to regenerate your token. Retrieving a new token can be done using the same <code>authToken</code> endpoint. All thatâ€™s needed is your username and password.</p>
<pre><code>curl -X POST \
  &#39;https://{{ domain }}/access-nyc-rest/authToken&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;cache-control: no-cache&#39; \
  -d &#39;{
    &quot;username&quot; : &quot;{{ username }}&quot;,
    &quot;password&quot;: &quot;{{ temporary password }}&quot;
  }&#39;</code></pre><h2 id="forgot-password">Forgot Password</h2>
<p>If you forget your password, you can reset it with the <code>/forgotPassword</code> and <code>/confirmPassword</code> endpoints. </p>
<pre><code>curl -X POST \
  &#39;https://{{ domain }}/access-nyc-rest/authToken&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;cache-control: no-cache&#39; \
  -d &#39;{
    &quot;username&quot; : &quot;{{ username }}&quot;,
    &quot;password&quot;: &quot;{{ temporary password }}&quot;
  }&#39;</code></pre><h2 id="summary">Summary</h2>
<p>Setting your new password can only be done once.</p>
<ul>
<li>Contact us through <a href="/feedback-and-support">Support</a> if you need to update your account information.</li>
<li>The <code>authToken</code> endpoint is used to set your new password using your username and temporary password.</li>
<li>The <code>authToken</code> endpoint responds with a token that expires after 1 hour (<code>3600</code> seconds).</li>
<li>The <code>authToken</code> endpoint is also used to retrieve new tokens.</li>
</ul>
<h2 id="next">Next</h2>
<p><a href="/making-a-request">Making a Request</a></p>
<br>
<br>
	</div>
    </article>
  </main>

  <footer class="py-6 bg-primary-blue text-center text-base-white links-invert">
  <p class="m-0">
  
    <p>Maintained by <a href="" class="text-base-white">@CityOfNewYork/NYCOpportunity</a> on GitHub.</p>
  </p>
  
</footer>
  <script src="js/source.js"></script>
  <script type="text/javascript">
    var access = new AccessNyc();
    access.icons('svg/icons.svg');
  </script>

</body>
</html>